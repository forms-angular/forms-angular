var fng;!function(e){var t;!function(e){function t(e,t,n,r,a,o,i,s,l){var c=o,u={master:{},fngInvalidRequired:"fng-invalid-required",allowLocationChange:!0};angular.extend(e,i.parsePathFunc()(n.$$path)),e.modelNameDisplay=c.modelNameDisplay||r("titleCase")(e.modelName),t.$broadcast("fngFormLoadStart",e),s.decorateScope(e,s,l,c),l.decorateScope(e,a,l,u),l.fillFormWithBackendSchema(e,s,l,u,l.handleError(e));for(var d=0;d<c.modelControllers.length;d++)c.modelControllers[d].onBaseCtrlReady&&c.modelControllers[d].onBaseCtrlReady(e)}t.$inject=["$scope","$rootScope","$location","$filter","$modal","$data","routingService","formGenerator","recordHandler"],e.BaseCtrl=t}(t=e.controllers||(e.controllers={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t){e.yes=function(){t.close(!0)},e.no=function(){t.close(!1)},e.cancel=function(){t.dismiss("cancel")}}t.$inject=["$scope","$modalInstance"],e.SaveChangesModalCtrl=t}(t=e.controllers||(e.controllers={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r){e.models=[],t.get("/api/models").success(function(t){e.models=t}).error(function(){n.path("/404")}),e.newUrl=function(e){return r.buildUrl(e+"/new")},e.listUrl=function(e){return r.buildUrl(e)}}t.$inject=["$scope","$http","$location","routingService"],e.ModelCtrl=t}(t=e.controllers||(e.controllers={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r,a,o,i){function s(n,r,o){var i,s={};n+="Ctrl",s.$scope=t.modelControllers[r]=e.$new();try{a(n,s),i=e.routing.newRecord?"creating":e.routing.id?"editing":"listing",angular.isObject(s.$scope.contextMenu)&&angular.forEach(s.$scope.contextMenu,function(t){t.divider?o=!0:t[i]&&(o&&(o=!1,e.items.push({divider:!0})),e.items.push(t))})}catch(l){/is not a function, got undefined/.test(l.message)||console.log("Unable to instantiate "+n+" - "+l.message)}}e.items=[],e.isCollapsed=!0,e.globalShortcuts=function(e){191===e.keyCode&&e.ctrlKey&&(document.getElementById("searchinput").focus(),e.preventDefault())},e.css=function(e,t){var n;return n="function"==typeof i[e]?i[e](t):"error text-error"},e.$on("$locationChangeSuccess",function(){if(e.routing=o.parsePathFunc()(n.$$path),e.items=[],e.routing.analyse)e.contextMenu="Report",e.items=[{broadcast:"exportToPDF",text:"PDF"},{broadcast:"exportToCSV",text:"CSV"}];else if(e.routing.modelName){angular.forEach(t.modelControllers,function(e){e.$destroy()}),t.modelControllers=[],t.record={},t.disableFunctions={},t.dataEventFunctions={},delete t.dropDownDisplay,delete t.modelNameDisplay;var a=r("titleCase")(e.routing.modelName,!0),i=!1;s(a,0,i),e.routing.formName&&s(a+r("titleCase")(e.routing.formName,!0),1,i),e.contextMenu=t.dropDownDisplay||t.modelNameDisplay||r("titleCase")(e.routing.modelName,!1)}}),e.doClick=function(t,n){var r=angular.element(n.target),a=e.items[t];if(a.divider||r.parent().hasClass("disabled"))n.preventDefault();else if(a.broadcast)e.$broadcast(a.broadcast);else{var o=a.args||[],i=a.fn;switch(o.length){case 0:i();break;case 1:i(o[0]);break;case 2:i(o[0],o[1]);break;case 3:i(o[0],o[1],o[2]);break;case 4:i(o[0],o[1],o[2],o[3])}}},e.isHidden=function(t){return e.items[t].isHidden?e.items[t].isHidden():!1},e.isDisabled=function(t){return e.items[t].isDisabled?e.items[t].isDisabled():!1},e.buildUrl=function(e){return o.buildUrl(e)},e.dropdownClass=function(t){var n=e.items[t],r="";return n.divider?r="divider":e.isDisabled(t)&&(r="disabled"),r}}t.$inject=["$scope","$data","$location","$filter","$controller","routingService","cssFrameworkService"],e.NavCtrl=t}(t=e.controllers||(e.controllers={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r){var a,o="";a=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),!e}(),e.searchPlaceholder=a?"Ctrl + / to Search":"Search",e.handleKey=function(t){if(27===t.keyCode&&e.searchTarget.length>0)e.searchTarget="";else if(e.results.length>0)switch(t.keyCode){case 38:e.focus>0&&e.setFocus(e.focus-1),"function"==typeof t.preventDefault&&t.preventDefault();break;case 40:e.results.length>e.focus+1&&e.setFocus(e.focus+1),"function"==typeof t.preventDefault&&t.preventDefault();break;case 13:null!=e.focus&&e.selectResult(e.focus)}},e.setFocus=function(t){null!==e.focus&&delete e.results[e.focus].focussed,e.results[t].focussed=!0,e.focus=t},e.selectResult=function(t){var a=e.results[t],o=r.prefix()+"/"+a.resource+"/"+a.id+"/edit";a.resourceTab&&(o+="/"+a.resourceTab),n.url(o)},e.resultClass=function(t){var n="search-result";return e.results&&e.results[t].focussed&&(n+=" focus"),n};var i=function(){e.moreCount=0,e.errorClass="",e.results=[],e.focus=null};e.$watch("searchTarget",function(n){n&&n.length>0?(o=n,t.get("/api/search?q="+n).success(function(t){o===n&&(e.searchTarget.length>0?(e.results=t.results,e.moreCount=t.moreCount,t.results.length>0&&(e.errorClass="",e.setFocus(0)),e.errorClass=0===e.results.length?"error has-error":""):i())}).error(function(e,t){console.log("Error in searchbox.js : "+e+" (status="+t+")")})):i()},!0),e.$on("$routeChangeStart",function(){e.searchTarget=""})}t.$inject=["$scope","$http","$location","routingService"],e.SearchCtrl=t}(t=e.controllers||(e.controllers={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){return{restrict:"AE",replace:!0,template:'<li ng-show="items.length > 0" class="dropdown mcdd" dropdown> <a class="dropdown-toggle" dropdown-toggle>  {{contextMenu}} <b class="caret"></b> </a> <ul class="dropdown-menu">  <li ng-repeat="choice in items" ng-hide="isHidden($index)" ng-class="dropdownClass($index)">   <a ng-show="choice.text" class="dropdown-option" ng-href="{{choice.url}}" ng-click="doClick($index, $event)">    {{choice.text}}   </a>  </li> </ul></li>'}}e.modelControllerDropdown=t}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){return{restrict:"E",template:'<div id="display-error" ng-show="errorMessage" ng-class="css(\'rowFluid\')">  <div class="alert alert-error col-lg-offset-3 offset3 col-lg-6 col-xs-12 span6 alert-warning alert-dismissable">    <button type="button" class="close" ng-click="dismissError()">Ã—</button>    <h4>{{alertTitle}}</h4>    <div ng-bind-html="errorMessage"></div>  </div></div>'}}e.errorDisplay=t}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t){return{restrict:"E",scope:{dataSrc:"&model"},link:function(n,r,a){var o=a.ref,i=a.form;n.readonly=a.readonly,i=i?i+"/":"",a.text&&a.text.length>0&&(n.text=a.text),n.$watch("dataSrc()",function(r){r&&(n.link=e.buildUrl(o+"/"+i+r+"/edit"),n.text||t.getListAttributes(o,r).success(function(e){e.success===!1?(console.log(e.err),n.text=e.err):n.text=e.list}).error(function(e,t){n.text="Error "+e+": "+t}))},!0)},template:function(e,t){return t.readonly?'<span class="fng-link">{{text}}</span>':'<a href="{{ link }}" class="fng-link">{{text}}</a>'}}}t.$inject=["routingService","SubmissionsService"],e.fngLink=t}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r,a,o,i,s){return{restrict:"EA",link:function(a,l,c){var u=[],d=1,f=function(e,t,n,r,i){var l;if(!t){var c=(i.model||"record")+".";if(t=c,i.subschema&&-1!==e.name.indexOf(".")){var u=e.name,d=i.subschemaroot,f=u.slice(d.length+1);i.index?(t+=d+"["+i.index+"]."+f,r="f_"+t.slice(c.length).replace(/(\.|\[|\]\.)/g,"-")):(t+=d,i.subkey?(r=t.slice(c.length).replace(/\./g,"-")+"-subkey"+i.subkeyno+"-"+f,t+="[$_arrayOffset_"+d.replace(/\./g,"_")+"_"+i.subkeyno+"]."+f):(t+="[$index]."+f,r=null,l=u.replace(/\./g,"-")))}else t+=e.name}var m,p=s.allInputsVars(a,e,i,t,r,l),g=p.common,v=n||e.required?" required":"";switch(e.type){case"select":e.select2?(g+='class="fng-select2'+p.formControl+p.compactClass+p.sizeClassBS2+'"',g+=e.readonly?" readonly":"",g+=e.required?' ng-required="true"':"",e.select2.fngAjax?"bs2"===o.framework()?(m='<div class="input-append">',m+='<input ui-select2="'+e.select2.fngAjax+'" '+g+">",m+='<button class="btn" type="button" data-select2-open="'+r+'" ng-click="openSelect2($event)"><i class="icon-search"></i></button>',m+="</div>"):(m='<div class="input-group">',m+='<input ui-select2="'+e.select2.fngAjax+'" '+g+">",m+='<span class="input-group-addon'+p.compactClass+'" data-select2-open="'+r+'" ',m+='    ng-click="openSelect2($event)"><i class="glyphicon glyphicon-search"></i></span>',m+="</div>"):e.select2&&(m='<input ui-select2="'+e.select2.s2query+'" '+g+">")):(g+=e.readonly?"disabled ":"",m="<select "+g+'class="'+p.formControl.trim()+p.compactClass+p.sizeClassBS2+'" '+v+">",n||(m+="<option></option>"),angular.isArray(e.options)?angular.forEach(e.options,function(e){m+=_.isObject(e)?'<option value="'+(e.val||e.id)+'">'+(e.label||e.text)+"</option>":"<option>"+e+"</option>"}):m+='<option ng-repeat="option in '+e.options+'">{{option}}</option>',m+="</select>");break;case"link":m='<fng-link model="'+t+'" ref="'+e.ref+'"',e.form&&(m+=' form="'+e.form+'"'),e.linkText&&(m+=' text="'+e.linkText+'"'),e.readonly&&(m+=' readonly="true"'),m+="></fng-link>";break;case"radio":m="",g+=v+(e.readonly?" disabled ":" ");var h="vertical"===i.formstyle||"inline"!==i.formstyle&&!e.inlineRadio;if(angular.isArray(e.options))i.subschema&&(g=g.replace('name="','name="{{$index}}-')),angular.forEach(e.options,function(e){m+="<input "+g+'type="radio"',m+=' value="'+e+'">'+e,h&&(m+="<br />")});else{var b=h?"div":"span";i.subschema&&(g=g.replace("$index","$parent.$index").replace('name="','name="{{$parent.$index}}-')),m+="<"+b+' ng-repeat="option in '+e.options+'"><input '+g+' type="radio" value="{{option}}"> {{option}} </'+b+"> "}break;case"checkbox":g+=v+(e.readonly?" disabled ":" "),m="bs3"===o.framework()?'<div class="checkbox"><input '+g+'type="checkbox"></div>':s.generateSimpleInput(g,e,i);break;default:g+=s.addTextInputMarkup(p,e,v),"textarea"===e.type?(e.rows&&(g+="auto"===e.rows?'msd-elastic="\n" class="ng-animate" ':'rows = "'+e.rows+'" '),"ckEditor"===e.editor&&(g+='ckeditor = "" ',"bs3"===o.framework()&&(p.sizeClassBS3="col-xs-12")),m="<textarea "+g+" />"):m=s.generateSimpleInput(g,e,i)}return s.inputChrome(m,e,i,p)},m=function(e){var t;switch(e){case"horizontal":t="form-horizontal";break;case"vertical":t="";break;case"inline":t="form-inline";break;case"horizontalCompact":t="form-horizontal compact";break;default:t="form-horizontal compact"}return t},p=function(e){var t={before:"",after:""};if("function"==typeof e.containerType)t=e.containerType(e);else switch(e.containerType){case"tab":for(var n=-1,r=0;r<a.tabs.length;r++)if(a.tabs[r].title===e.title){n=r;break}n>=0?(t.before="<tab select=\"updateQueryForTab('"+e.title+'\')" heading="'+e.title+'" active="tabs['+n+'].active">',t.after="</tab>"):(t.before="<p>Error!  Tab "+e.title+" not found in tab list</p>",t.after="");break;case"tabset":t.before="<tabset>",t.after="</tabset>";break;case"well":t.before='<div class="well">',e.title&&(t.before+="<h4>"+e.title+"</h4>"),t.after="</div>";break;case"well-large":t.before='<div class="well well-lg well-large">',t.after="</div>";break;case"well-small":t.before='<div class="well well-sm well-small">',t.after="</div>";break;case"fieldset":t.before="<fieldset>",e.title&&(t.before+="<legend>"+e.title+"</legend>"),t.after="</fieldset>";break;case void 0:break;case null:break;case"":break;default:if(t.before='<div class="'+e.containerType+'">',e.title){var o=e.titleTagOrClass||"h4";t.before+=o.match(/h[1-6]/)?"<"+o+">"+e.title+"</"+o+">":'<p class="'+o+'">'+e.title+"</p>"}t.after="</div>"}return t},g=function(e,t){var n=s.fieldChrome(a,e,t),r=n.template;if(e.schema){var i=e.name.replace(/\./g,"_"),l="$_schema_"+i;if(a[l]=e.schema,e.schema)if(e.subkey){e.subkey.path=e.name,a[l+"_subkey"]=e.subkey;for(var c=angular.isArray(e.subkey)?e.subkey:[e.subkey],d=0;d<c.length;d++){var g=p(c[d]);r+=g.before,r+=h(e.schema,null,{subschema:!0,formStyle:t.formstyle,subkey:l+"_subkey",subkeyno:d,subschemaroot:e.name}),r+=g.after}u.push(e)}else t.subschema?console.log("Attempts at supporting deep nesting have been removed - will hopefully be re-introduced at a later date"):(r+='<div class="schema-head">'+e.label,e.unshift&&(r+='<button id="unshift_'+e.id+'_btn" class="add-btn btn btn-default btn-xs btn-mini form-btn" ng-click="unshift(\''+e.name+'\',$event)"><i class="'+s.glyphClass()+'-plus"></i> Add</button>'),r+='</div><div ng-form class="'+("bs2"===o.framework()?"row-fluid ":"")+m(e.formStyle)+'" name="form_'+i+'{{$index}}" class="sub-doc well" id="'+e.id+'List_{{$index}}"  ng-repeat="subDoc in '+(t.model||"record")+"."+e.name+' track by $index">   <div class="'+("bs2"===o.framework()?"row-fluid":"row")+' sub-doc">',(!e.noRemove||e.customSubDoc)&&(r+='   <div class="sub-doc-btns">',e.customSubDoc&&(r+=e.customSubDoc),e.noRemove||(r+='<button name="remove_'+e.id+'_btn" class="remove-btn btn btn-mini btn-default btn-xs form-btn" ng-click="remove(\''+e.name+'\',$index,$event)"><i class="'+s.glyphClass()+'-minus"></i> Remove</button>'),r+="  </div> "),r+=h(e.schema,!1,{subschema:!0,formstyle:e.formStyle,model:t.model,subschemaroot:e.name}),r+="   </div></div>",(!e.noAdd||e.customFooter)&&(r+='<div class = "schema-foot">',e.customFooter&&(r+=e.customFooter),e.noAdd||(r+='<button id="add_'+e.id+'_btn" class="add-btn btn btn-default btn-xs btn-mini form-btn" ng-click="add(\''+e.name+'\',$event)"><i class="'+s.glyphClass()+'-plus"></i> Add</button>'),r+="</div>"))}else{var v=s.controlDivClasses(t);if(e.array){if(v.push("fng-array"),"inline"===t.formstyle)throw new Error("Cannot use arrays in an inline form");r+=s.label(a,e,!0,t),r+=s.handleArrayInputAndControlDiv(f(e,"arrayItem.x",!0,e.id+"_{{$index}}",t),v,e,t)}else r+=s.label(a,e,null,t),r+=s.handleInputAndControlDiv(f(e,null,t.required,e.id,t),v)}return r+=n.closeTag},v=function(e){e.type=e.type||"text",e.id=e.id||"f_"+e.name.replace(/\./g,"_"),e.label=void 0!==e.label?null===e.label?"":e.label:n("titleCase")(e.name.split(".").slice(-1)[0])},h=function(e,t,n){var r="";if(e)for(var o=0;o<e.length;o++){var i=e[o];0===o&&t&&!n.schema.match(/$_schema_/)&&(i.add=i.add?" "+i.add+" ":"",-1!==i.add.indexOf("ui-date")||n.noautofocus||i.containerType||(i.add=i.add+"autofocus "));var s=!0;if(i.directive){var u=i.directive,f="<"+u+' model="'+(n.model||"record")+'"',m=l[0];v(i);for(var b=0;b<m.attributes.length;b++){var y=m.attributes[b];switch(y.nodeName){case"class":var w=y.value.replace("ng-scope","");w.length>0&&(f+=' class="'+w+'"');break;case"schema":var k=("bespoke_"+i.name).replace(/\./g,"_");a[k]=angular.copy(i),delete a[k].directive,f+=' schema="'+k+'"';break;default:f+=" "+y.nodeName+'="'+y.value+'"'}}var x=c.$normalize(i.directive);for(var C in i)if(i.hasOwnProperty(C))switch(C){case"directive":break;case"schema":break;case"add":switch(typeof i.add){case"string":f+=" "+i.add;break;case"object":for(var $ in i.add)f+=" "+$+'="'+i.add[$].toString().replace(/"/g,"&quot;")+'"';break;default:throw new Error("Invalid add property of type "+typeof i.add+" in directive "+i.name)}break;case x:for(var S in i[C])f+=i.directive+"-"+S+'="'+i[C][S]+'"';break;default:f+=" fng-fld-"+C+'="'+i[C].toString().replace(/"/g,"&quot;")+'"'}for(C in n)n.hasOwnProperty(C)&&"$"!==C[0]&&"undefined"!=typeof n[C]&&(f+=" fng-opt-"+C+'="'+n[C].toString().replace(/"/g,"&quot;")+'"');f+="></"+u+">",r+=f,s=!1}else if(i.containerType){var D=p(i);switch(i.containerType){case"tab":1===d&&(d=2,r+="<tabset>"),r+=D.before,r+=h(i.content,null,n),r+=D.after;break;case"tabset":d=0,r+=D.before,r+=h(i.content,null,n),r+=D.after;break;default:r+=D.before,r+=h(i.content,null,n),r+=D.after}s=!1}else if(n.subkey){var F=angular.isArray(a[n.subkey])?a[n.subkey][0].keyList:a[n.subkey].keyList;_.find(F,function(e,t){return a[n.subkey].path+"."+t===i.name})&&(s=!1)}s&&(v(i),r+=g(i,n))}else console.log("Empty array passed to processInstructions"),r="";return r},b=a.$watch(c.schema,function(n){if(n&&(n=angular.isArray(n)?n:[n],n.length>0)){b();var o="",s=c.model||"record",f=a[s];if(f=f||{},!c.subschema&&!c.model||c.forceform){a.topLevelFormName=c.name||"myForm";var p="";for(var g in c)c.hasOwnProperty(g)&&"$"!==g[0]&&-1===["name","formstyle","schema","subschema","model"].indexOf(g)&&(p+=" "+c.$attr[g]+'="'+c[g]+'"');o='<form name="'+a.topLevelFormName+'" class="'+m(c.formstyle)+' novalidate"'+p+">"}else o="";if(f===a.topLevelFormName)throw new Error("Model and Name must be distinct - they are both "+f);if(o+=h(n,!0,c),2===d&&(o+="</tabset>"),o+=c.subschema?"":"</form>",l.replaceWith(e(o)(a)),u.length>0||r.modelControllers.length>0)var v=a.$watch("phase",function(e){if("ready"===e){v();for(var t=0;t<r.modelControllers.length;t++)r.modelControllers[t].onAllReady&&r.modelControllers[t].onAllReady(a);for(var n=0;n<u.length;n++){for(var o,i,s=u[n],l=angular.isArray(s.subkey)?s.subkey:[s.subkey],c=s.name.split("."),d=f;c.length>1;)d=d[c.shift()]||{};d=d[c[0]]=d[c[0]]||[];for(var m=0;m<l.length;m++){if(l[m].selectFunc){if(!a[l[m].selectFunc]||"function"!=typeof a[l[m].selectFunc])throw new Error("Subkey function "+l[m].selectFunc+" is not properly set up");o=a[l[m].selectFunc](f,s)}else{if(!l[m].keyList)throw new Error("Invalid subkey setup for "+s.name);var p=l[m].keyList;for(o=0;o<d.length;o++){i=!0;for(var g in p)if(p.hasOwnProperty(g)&&d[o][g]!==p[g]&&("undefined"==typeof d[o][g]||!d[o][g].text||d[o][g].text!==p[g])){i=!1;break}if(i)break}i||(o=f[s.name].push(p)-1)}a["$_arrayOffset_"+s.name.replace(/\./g,"_")+"_"+m]=o}}}});t.$broadcast("formInputDone"),i.updateDataDependentDisplay&&f&&Object.keys(f).length>0&&i.updateDataDependentDisplay(f,null,!0,a)}},!0)}}}var n;!function(e){e[e.Y=0]="Y",e[e.N=1]="N",e[e.Forced=2]="Forced"}(n||(n={})),t.$inject=["$compile","$rootScope","$filter","$data","routingService","cssFrameworkService","formGenerator","formMarkupHelper"],e.formInput=t}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e){return{restrict:"A",templateUrl:"form-button-"+e.framework()+".html"}}t.$inject=["cssFrameworkService"],e.formButtons=t}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(t){function n(t){return{restrict:"AE",templateUrl:"search-"+t.framework()+".html",controller:e.controllers.SearchCtrl}}n.$inject=["cssFrameworkService"],t.globalSearch=n}(t=e.directives||(e.directives={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){return function(e){var t=/([\:\-\_]+(.))/g;return e.replace(t,function(e,t,n,r){return r?n.toUpperCase():n})}}e.camelCase=t}(t=e.filters||(e.filters={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){return function(e,t){var n=e.replace(/(_|\.)/g," ").replace(/[A-Z]/g," $&").trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return n=t?n.replace(/\s/g,""):n.replace(/\s{2,}/g," ")}}e.titleCase=t}(t=e.filters||(e.filters={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){function e(e,t,n,r){function a(e){for(var t in e)t===n&&l.push(e[t]),"$parent"===t&&a(e[t])}var o,i,s,l=[],c=[];if(n="addAll"+n,"string"==typeof r)for(o=r.split(" "),i=0;i<o.length;i++)c.push(o[i]);if(a(e),void 0!==t[n]&&"string"==typeof t[n])for(o=t[n].split(" "),i=0;i<o.length;i++)0===o[i].indexOf("class=")?c.push(o[i].substring(6,o[i].length)):l.push(o[i]);return r=c.length>0?' class="'+c.join(" ")+'" ':" ",s=l.length>0?l.join(" ")+" ":"",r+s}this.getAddAllGroupOptions=function(t,n,r){return e(t,n,"Group",r)},this.getAddAllFieldOptions=function(t,n,r){return e(t,n,"Field",r)},this.getAddAllLabelOptions=function(t,n,r){return e(t,n,"Label",r)},this.addAll=function(e,t,n,r){var a="getAddAll"+t+"Options";return this[a](e,r,n)||[]}}e.addAllService=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){var e={framework:"bs2"};return{setOptions:function(t){angular.extend(e,t)},$get:function(){return{framework:function(){return e.framework},setFrameworkForDemoWebsite:function(t){e.framework=t},span:function(t){var n;switch(e.framework){case"bs2":n="span"+t;break;case"bs3":n="col-xs-"+t}return n},offset:function(t){var n;switch(e.framework){case"bs2":n="offset"+t;break;case"bs3":n="col-lg-offset-"+t}return n},rowFluid:function(){var t;switch(e.framework){case"bs2":t="row-fluid";break;case"bs3":t="row"}return t}}}}}e.cssFrameworkService=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){var e={record:{},disableFunctions:{},dataEventFunctions:{},modelControllers:[]};return e}e.$data=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t){function n(e,t,n){void 0===t&&(t=""),t=t||"",angular.forEach(e,function(e){o.when(t+e.route,angular.extend(e.options||{templateUrl:e.templateUrl},n))}),s.variantsForDemoWebsite&&angular.forEach(s.variantsForDemoWebsite,function(r){angular.forEach(e,function(e){o.when(t+r+e.route,angular.extend(e.options||{templateUrl:e.templateUrl},n))})})}function r(e,t,n){void 0===t&&(t=""),t=t||"",angular.forEach(e,function(e){i.state(e.state,angular.extend(e.options||{url:t+e.route,templateUrl:e.templateUrl},n))})}function a(e,t,n,r,a,o){var i,s=r?"/"+r:"",l=e+"/"+n,c=o?"/"+o:"";switch(t){case"list":i=l+s;break;case"edit":i=l+s+"/"+a+"/edit"+c;break;case"new":i=l+s+"/new"+c}return i}var o,i,s={hashPrefix:"",html5Mode:!1,routing:"ngroute",prefix:""},l=[{route:"/analyse/:model/:reportSchemaName",state:"analyse::model::report",templateUrl:"partials/base-analysis.html"},{route:"/analyse/:model",state:"analyse::model",templateUrl:"partials/base-analysis.html"},{route:"/:model/:id/edit",state:"model::edit",templateUrl:"partials/base-edit.html"},{route:"/:model/:id/edit/:tab",state:"model::edit::tab",templateUrl:"partials/base-edit.html"},{route:"/:model/new",state:"model::new",templateUrl:"partials/base-edit.html"},{route:"/:model",state:"model::list",templateUrl:"partials/base-list.html"},{route:"/:model/:form/:id/edit",state:"model::form::edit",templateUrl:"partials/base-edit.html"},{route:"/:model/:form/:id/edit/:tab",state:"model::form::edit::tab",templateUrl:"partials/base-edit.html"},{route:"/:model/:form/new",state:"model::form::new",templateUrl:"partials/base-edit.html"},{route:"/:model/:form",state:"model::form::list",templateUrl:"partials/base-list.html"}],c=null,u={};return{start:function(a){switch(angular.extend(s,a),s.prefix[0]&&"/"!==s.prefix[0]&&(s.prefix="/"+s.prefix),t.html5Mode(s.html5Mode),""!==s.hashPrefix&&t.hashPrefix(s.hashPrefix),s.routing){case"ngroute":o=e.get("$routeProvider"),s.fixedRoutes&&n(s.fixedRoutes),n(l,s.prefix,a.add2fngRoutes);break;case"uirouter":i=e.get("$stateProvider"),s.fixedRoutes&&r(s.fixedRoutes),setTimeout(function(){r(l,s.prefix,a.add2fngRoutes)})}},$get:function(){return{router:function(){return s.routing},prefix:function(){return s.prefix},parsePathFunc:function(){return function(e){if(e!==c){c=e,u={newRecord:!1},s.prefix.length>0&&0===e.indexOf(s.prefix)&&(e=e.slice(s.prefix.length));var t=e.split("/");s.variants&&-1!==s.variants.indexOf(t[1])&&(u.variant=t[1],t.shift());var n=t.length;if("analyse"===t[1])u.analyse=!0,u.modelName=t[2],u.reportSchemaName=n>=4?t[3]:null;else{u.modelName=t[1];var r,a=[t[n-1],t[n-2]],o=a.indexOf("new");-1===o?(r=a.indexOf("edit"),-1!==r&&(n-=2+r,u.id=t[n])):(u.newRecord=!0,n-=1+o),(1===r||1===o)&&(u.tab=a[0]),n>2&&(u.formName=t[2])}}return u}},buildUrl:function(e){var t=s.html5Mode?"":"#";return t+=s.hashPrefix,t+=s.prefix,t[0]&&(t+="/"),t+="/"===e[0]?e.slice(1):e},buildOperationUrl:function(e,t,n,r,o){return a(s.prefix,e,t,n,r,o)},redirectTo:function(){return function(e,t,n,r,o){n.search()&&n.url(n.path());var i=a(s.prefix,e,t.modelName,t.formName,r,o);n.path(i)}}}}}}t.$inject=["$injector","$locationProvider"],e.routingService=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r,a,o){function i(e,t,n,r,a,o,l,c,m){function g(e,t){var n=angular.copy(e),r=_.find(l.tabs,function(e){return e.title===n});if(!r){if(0===l.tabs.length&&l.formSchema.length>0){l.tabs.push({title:"Main",content:[],active:"Main"===l.tab||!l.tab}),r=l.tabs[0];for(var a=0;a<l.formSchema.length;a++)r.content.push(l.formSchema[a])}r=l.tabs[l.tabs.push({title:n,containerType:"tab",content:[],active:n===l.tab})-1]}r.content.push(t)}for(var v in t)if("_id"!==v&&t.hasOwnProperty(v)){var h=t[v],b=h.options||{},y=b.form||{};if(!y.hidden)if(h.schema){if(o&&n){var w=[];i("Nested "+v,h.schema,w,null,v+".",!0,l,c,m);var k=u(v,y,a);k.schema=w,y.tab&&g(y.tab,k),void 0!==y.order?n.splice(y.order,0,k):n.push(k)}}else{if(n){var x=u(v,y,a);if(p(x.showIf,x.name,l)&&"options"!==v){var C=s(x,h,b,l,c,m);C.tab&&g(C.tab,C),void 0!==y.order?n.splice(y.order,0,C):n.push(C)}}r&&d(r,b.list,v)}}r&&0===r.length&&f(e,r,n,t)}function s(a,s,c,u,d,f){var m;if(s.caster&&(a.array=!0,s=s.caster,angular.extend(c,s.options),s.options&&s.options.form&&angular.extend(a,s.options.form)),"String"===s.instance)c["enum"]?(a.type=a.type||"select",a.select2?(u.conversions[a.name]=a.select2,c.required&&(u.$watch("record."+a.name,function(e){l(e,a.id,a.select2,d)},!0),setTimeout(function(){l(u.record[a.name],a.id,a.select2,d)},0)),a.select2===!0&&(a.select2={}),a.select2.s2query="select2"+a.name.replace(/\./g,"_"),u[a.select2.s2query]={allowClear:!c.required,initSelection:function(e,n){function r(){function i(t,n,r){if(n)if(0===t.length)r(n);else{if(angular.isArray(n)){var a=e.context.getAttribute("ng-model"),o=a.indexOf("."+t[0]);a=a.slice(0,o),o=a.lastIndexOf("."),a=a.slice(o+1),a=/.+\[(.+)\]/.exec(a),n=n[u[a[1]]]}n=n[t.shift()],i(t,n,r)}}var s=u.record;if(s){var c=a.name.split(".");i(c,s,function(t){if(setTimeout(l(t,a.id,a.select2,d)),t)if(a.array){var r=parseInt(e.context.id.match("_[0-9].*$")[0].slice(1));t[r].x&&o.preservePristine(e,function(){n(t[r].x)})}else o.preservePristine(e,function(){n(t)})})}else t(r)}t(r)},query:function(e){for(var t={results:[]},n=e.term.toUpperCase(),r=0;r<c["enum"].length;r++)-1!==c["enum"][r].toUpperCase().indexOf(n)&&t.results.push({id:r,text:c["enum"][r]});e.callback(t)}},_.extend(u[a.select2.s2query],a.select2),a.select2===!0&&(a.select2={}),u.select2List.push(a.name)):(a.options=o.suffixCleanId(a,"Options"),u[a.options]=c["enum"])):(a.type||(a.type=-1!==a.name.toLowerCase().indexOf("password")?"password":"text"),c.match&&(a.add='pattern="'+c.match+'" '+(a.add||"")));else if("ObjectID"===s.instance)a.ref=c.ref,a.link&&a.link.linkOnly?(a.type="link",a.linkText=a.link.text,a.form=a.link.form,delete a.link):(a.type="select",a.select2||c.form&&c.form.select2?(a.select2||(a.select2=c.form.select2),a.select2===!0&&(a.select2={}),u.select2List.push(a.name),u.conversions[a.name]=a.select2,a.select2.fngAjax?(m="ajax"+a.name.replace(/\./g,""),c.required||a.placeHolder||(a.placeHolder="Select..."),u[m]={allowClear:!c.required,minimumInputLength:2,initSelection:function(t,n){var a=t.val();a&&""!==a&&r.getListAttributes(c.ref,a).success(function(r){r.success===!1&&e.path("/404");var i={id:a,text:r.list};o.preservePristine(t,function(){n(i)})}).error(f)},ajax:{url:"/api/search/"+c.ref,data:function(e,t){var n,r={q:e,pageLimit:10,page:t};return"object"==typeof c.form.searchQuery?n=c.form.searchQuery:"function"==typeof c.form.searchQuery&&(n=c.form.searchQuery(u,c)),n&&_.extend(r,n),r},results:function(e){return{results:e.results,more:e.moreCount>0}}}},_.extend(u[m],a.select2),a.select2.fngAjax=m):(a.select2===!0&&(a.select2={}),a.select2.s2query="select2"+a.name.replace(/\./g,"_"),u["select2"+a.select2.s2query]={allowClear:!c.required,initSelection:function(e,t){var n=e.val();if(""!==n&&u[a.ids].length>0){var r=o.convertIdToListValue(n,u[a.ids],u[a.options],a.name),i={id:n,text:r};t(i)}},query:function(e){for(var t={results:[]},n=e.term.toUpperCase(),r=0;r<u[a.options].length;r++)-1!==u[a.options][r].toUpperCase().indexOf(n)&&t.results.push({id:u[a.ids][r],text:u[a.options][r]});e.callback(t)}},_.extend(u[a.select2.s2query],a.select2),a.options=o.suffixCleanId(a,"Options"),a.ids=o.suffixCleanId(a,"_ids"),o.setUpSelectOptions(c.ref,a,u,d,i,f))):a.directive&&a[n("camelCase")(a.directive)]&&a[n("camelCase")(a.directive)].fngAjax||(a.options=o.suffixCleanId(a,"Options"),a.ids=o.suffixCleanId(a,"_ids"),o.setUpSelectOptions(c.ref,a,u,d,i,f)));else if("Date"===s.instance)a.type||(a.readonly?a.type="text":(a.type="text",a.add="ui-date ui-date-format datepicker-popup-fix "));else if("boolean"===s.instance)a.type="checkbox";else{if("Number"!==s.instance)throw new Error("Field "+a.name+" is of unsupported type "+s.instance);a.type="number",c.min&&(a.add='min="'+c.min+'" '+(a.add||"")),c.max&&(a.add='max="'+c.max+'" '+(a.add||"")),a.step&&(a.add='step="'+a.step+'" '+(a.add||""))}return c.required&&(a.required=!0),c.readonly&&(a.readonly=!0),a}function l(e,t,n,r){var a="#"+(n?"cg_":"")+t,o=angular.element(document.querySelector(a));e?o.removeClass(r.fngInvalidRequired):o.addClass(r.fngInvalidRequired)}function c(e,t){for(var n=e.split("."),r=t.record,a=0,o=n.length;o>a;a++)r[n[a]]||(r[n[a]]=a===o-1?[]:{}),r=r[n[a]];return r}var u=function(e,t,n){return t.name=n+e,t},d=function(e,t,n){var r=t||{hidden:!0};r.hidden||("object"==typeof r?(r.name=n,e.push(r)):e.push({name:n}))},f=function(e,t,n,r){if(n){for(var a=0,o=n.length;o>a;a++)if("text"===n[a].type){t.push({name:n[a].name});break}0===t.length&&0!==n.length&&t.push({name:n[0].name})}if(0===t.length){for(var i in r)if("_id"!==i&&r.hasOwnProperty(i)){t.push({name:i});break}if(0===t.length)throw new Error("Unable to generate a title for "+e)}},m=function(e,t,n){function r(e){var r=e;if("string"==typeof e&&"$"===e.slice(0,1)){var a=e.split(".");switch(a.length){case 1:r=o.getListData(t,e.slice(1),n);break;case 2:r=o.getListData(t,a[1],n);break;default:throw new Error("Unsupported showIf format")}}return r}var a,i=r(e.lhs),s=r(e.rhs);switch(e.comp){case"eq":a=i===s;break;case"ne":a=i!==s;break;default:throw new Error("Unsupported comparator "+e.comp);

}return a},p=function(e,t,n){function r(e){if("string"==typeof e&&"$"===e.slice(0,1)){var r=e.slice(1),o=n.dataDependencies[r]||[];o.push(t),n.dataDependencies[r]=o,a+=1}}var a=0,o=!0;return e&&(r(e.lhs),r(e.rhs),0!==a||m(e,void 0,n.select2List)||(o=!1)),o};return{generateEditUrl:function(e,t){return a.buildUrl(t.modelName+"/"+(t.formName?t.formName+"/":"")+e._id+"/edit")},generateNewUrl:function(e){return a.buildUrl(e.modelName+"/"+(e.formName?e.formName+"/":"")+"new")},handleFieldType:s,handleSchema:i,updateDataDependentDisplay:function(e,t,n,r){var a,o,i,s,l,c;for(var u in r.dataDependencies)if(r.dataDependencies.hasOwnProperty(u)){var d=u.split(".");if(1===d.length){if(n||!t||e[u]!==t[u])for(a=r.dataDependencies[u],o=0;o<a.length;o+=1){var f=a[o];for(i=0;i<r.formSchema.length;i+=1)r.formSchema[i].name===f&&(l=angular.element(document.querySelector("#cg_"+r.formSchema[i].id)),m(r.formSchema[i].showIf,e,r.select2List)?l.removeClass("ng-hide"):l.addClass("ng-hide"))}}else{if(2!==d.length)throw new Error("You can only go down one level of subdocument with showIf");if(void 0===c&&(c=!0),e[d[0]])for(s=0;s<e[d[0]].length;s++)if(n||!t||!t[d[0]]||!t[d[0]][s]||e[d[0]][s][d[1]]!==t[d[0]][s][d[1]])for(a=r.dataDependencies[u],o=0;o<a.length;o+=1){var p=a[o].split(".");if(2!==p.length)throw new Error("Conditional display must control dependent fields at same level ");for(i=0;i<r.formSchema.length;i+=1)if(r.formSchema[i].name===p[0])for(var g=r.formSchema[i].schema,v=0;v<g.length;v++)g[v].name===a[o]&&(l=angular.element(document.querySelector("#f_"+p[0]+"List_"+s+" #cg_f_"+a[o].replace(".","_"))),0===l.length?l=angular.element(document.querySelector("#f_elements-"+s+"-"+p[1])):c=!1,l.length>0&&(m(r.formSchema[i].schema[v].showIf,e[d[0]][s],r.select2List)?l.show():l.hide()))}}}return c},add:function(e,t,n){var r=c(e,n);r.push({}),n.setFormDirty(t)},unshift:function(e,t,n){var r=c(e,n);r.unshift({}),n.setFormDirty(t)},remove:function(e,t,n,r){for(var a=e.split("."),o=r.record,i=0,s=a.length;s>i;i++)o=o[a[i]];o.splice(t,1),r.setFormDirty(n)},hasError:function(e,t,n,r){var a=!1;if(r){var o=r[r.topLevelFormName];if("null"!==e&&(o=o[e.replace("$index",n)]),o){var i=o[t];i&&i.$invalid&&(i.$dirty?a=!0:angular.forEach(i.$validators,function(e,t){"required"!==t&&i.$error[t]&&(a=!0)}))}}else console.log("hasError called with no scope! ",e,t,n);return a},decorateScope:function(e,t,n,r){e.record=r.record,e.phase="init",e.disableFunctions=r.disableFunctions,e.dataEventFunctions=r.dataEventFunctions,e.topLevelFormName=void 0,e.formSchema=[],e.tabs=[],e.listSchema=[],e.recordList=[],e.dataDependencies={},e.select2List=[],e.conversions={},e.pageSize=60,e.pagesLoaded=0,r.baseScope=e,e.generateEditUrl=function(n){return t.generateEditUrl(n,e)},e.generateNewUrl=function(){return t.generateNewUrl(e)},e.scrollTheList=function(){return n.scrollTheList(e,n.handleError(e))},e.getListData=function(t,r){return n.getListData(t,r,e.select2List)},e.setPristine=function(){e.dismissError(),e[e.topLevelFormName]&&e[e.topLevelFormName].$setPristine()},e.skipCols=function(e){return e>0?"col-md-offset-3":""},e.setFormDirty=function(e){if(e){var t=angular.element(e.target).inheritedData("$formController");t.$setDirty()}else console.log("setFormDirty called without an event (fine in a unit test)")},e.add=function(n,r){return t.add(n,r,e)},e.hasError=function(n,r,a){return t.hasError(n,r,a,e)},e.unshift=function(n,r){return t.unshift(n,r,e)},e.remove=function(n,r,a){return t.remove(n,r,a,e)},e.openSelect2=function(e){$("#"+$(e.currentTarget).data("select2-open")).select2("open")},e.toJSON=function(e){return"The toJSON function is deprecated - use the json filter instead\n\n"+JSON.stringify(e,null,2)},e.baseSchema=function(){return e.tabs.length?e.tabs:e.formSchema}}}}t.$inject=["$location","$timeout","$filter","SubmissionsService","routingService","recordHandler"],e.formGenerator=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n){function r(e,t){function n(e){var n=e;if("string"==typeof e)if("$"===e.slice(0,1)){n=(t||"record")+".";var r=e.slice(1).split(".");if(r.length>1){var a=r.pop();n+=r.join(".")+"[$index]."+a}else n+=e.slice(1)}else n="'"+e+"'";return n}var r=["eq","ne","gt","gte","lt","lte"],a=["===","!==",">",">=","<","<="],o=r.indexOf(e.comp);if(-1===o)throw new Error("Invalid comparison in showWhen");return n(e.lhs)+a[o]+n(e.rhs)}function a(){return"bs2"===e.framework()?"icon":"glyphicon glyphicon"}var o=function(e){return!e||"undefined"===e||-1===["vertical","inline"].indexOf(e)};return{isHorizontalStyle:o,fieldChrome:function(a,i,s){var l="",c="",u="",d="";if(i.showWhen=i.showWhen||i.showwhen,i.showWhen&&(d+="string"==typeof i.showWhen?'ng-show="'+i.showWhen+'"':'ng-show="'+r(i.showWhen,s.model)+'"'),d+=' id="cg_'+i.id.replace(/\./g,"-")+'"',"bs3"===e.framework()){l="form-group","vertical"===s.formstyle&&"block-level"!==i.size&&(c+='<div class="row">',l+=" col-sm-"+t.sizeAsNumber(i.size),u+="</div>");var f,m=null,p=i.name.split(".");s&&"undefined"!=typeof s.subkeyno?f=s.subschemaroot.replace(/\./g,"-")+"-subkey"+s.subkeyno+"-"+p[p.length-1]:s.subschema?(m="form_"+p.slice(0,-1).join("_")+"$index",f=i.name.replace(/\./g,"-")):f="f_"+i.name.replace(/\./g,"_"),c+="<div"+n.addAll(a,"Group",l,s)+" ng-class=\"{'has-error': hasError('"+m+"','"+f+"', $index)}\"",u+="</div>"}else o(s.formstyle)?(c+="<div"+n.addAll(a,"Group","control-group",s),u="</div>"):(c+="<span ",u="</span>");return c+=(d||"")+">",{template:c,closeTag:u}},label:function(t,r,i,s){var l="";if("bs3"===e.framework()||"inline"!==s.formstyle&&""!==r.label||i){l="<label";var c="control-label";o(s.formstyle)?(l+=' for="'+r.id+'"',"undefined"!=typeof r.labelDefaultClass?c+=" "+r.labelDefaultClass:"bs3"===e.framework()&&(c+=" col-sm-3")):"inline"===s.formstyle&&(l+=' for="'+r.id+'"',c+=" sr-only"),l+=n.addAll(t,"Label",null,s)+' class="'+c+'">'+r.label,i&&(l+=' <i id="add_'+r.id+'" ng-click="add(\''+r.name+'\',$event)" class="'+a()+'-plus-sign"></i>'),l+="</label>"}return l},glyphClass:a,allInputsVars:function(r,a,o,i,s,l){var c,u=a.placeHolder,d="",f="",m="",p="";return"bs3"===e.framework()?(d=-1===["horizontal","vertical","inline"].indexOf(o.formstyle)?" input-sm":"",f="col-sm-"+t.sizeAsNumber(a.size),p=" form-control"):m=a.size?" input-"+a.size:"","inline"===o.formstyle&&(u=u||a.label),c='ng-model="'+i+'"'+(s?' id="'+s+'" name="'+s+'" ':' name="'+l+'" '),c+=u?'placeholder="'+u+'" ':"",a.popup&&(c+='title="'+a.popup+'" '),c+=n.addAll(r,"Field",null,o),{common:c,sizeClassBS3:f,sizeClassBS2:m,compactClass:d,formControl:p}},inputChrome:function(t,n,r,a){return"bs3"===e.framework()&&o(r.formstyle)&&"checkbox"!==n.type&&(t='<div class="bs3-input '+a.sizeClassBS3+'">'+t+"</div>"),n.helpInline&&(t+='<span class="'+("bs2"===e.framework()?"help-inline":"help-block")+'">'+n.helpInline+"</span>"),n.help&&(t+='<span class="help-block">'+n.help+"</span>"),t},generateSimpleInput:function(t,n,r){var a="<input "+t+'type="'+n.type+'"';return"inline"!==r.formstyle||"bs2"!==e.framework()||n.size||(a+='class="input-small"'),a+=" />"},controlDivClasses:function(t){var n=[];return o(t.formstyle)&&n.push("bs2"===e.framework()?"controls":"col-sm-9"),n},handleInputAndControlDiv:function(e,t){return t.length>0&&(e='<div class="'+t.join(" ")+'">'+e+"</div>"),e},handleArrayInputAndControlDiv:function(t,n,r,o){var i="<div ";return"bs3"===e.framework()&&(i+='ng-class="skipCols($index)" '),i+='class="'+n.join(" ")+'" id="'+r.id+'List" ',i+='ng-repeat="arrayItem in '+(o.model||"record")+"."+r.name+' track by $index">',i+=t,i+="<i ng-click=\"remove('"+r.name+'\',$index,$event)" id="remove_'+r.id+'_{{$index}}" class="'+a()+'-minus-sign"></i>',i+="</div>"},addTextInputMarkup:function(e,t,n){var r="",a=e.formControl.trim()+e.compactClass+e.sizeClassBS2+(t["class"]?" "+t["class"]:"");return 0!==a.length&&(r+='class="'+a+'"'),t.add&&(r+=" "+t.add+" "),r+=n+(t.readonly?" readonly":"")+" "}}}t.$inject=["cssFrameworkService","inputSizeHelper","addAllService"],e.formMarkupHelper=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(){var e=[1,2,4,6,8,10,12],t=["mini","small","medium","large","xlarge","xxlarge","block-level"],n=2;return{sizeMapping:e,sizeDescriptions:t,defaultSizeOffset:n,sizeAsNumber:function(r){return e[r?t.indexOf(r):n]}}}e.inputSizeHelper=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e){return{extractFromAttr:function(e,t){var n={},r={formStyle:e.formstyle},a={},o=t.length;for(var i in e)e.hasOwnProperty(i)&&("fngFld"===i.slice(0,6)?n[i.slice(6).toLowerCase()]=e[i].replace(/&quot;/g,'"'):"fngOpt"===i.slice(0,6)?r[i.slice(6).toLowerCase()]=e[i].replace(/&quot;/g,'"'):i.slice(0,o)===t&&(a[i.slice(o).toLowerCase()]=e[i].replace(/&quot;/g,'"')));return{info:n,options:r,directiveOptions:a}},buildInputMarkup:function(t,n,r,a,o,i,s){var l,c,u,d=e.fieldChrome(t,r,a,' id="cg_'+r.id+'"'),f=e.controlDivClasses(a),m=d.template+e.label(t,r,o,a);if(o?(l="arrayItem"+(i?".x":""),c=r.id+"_{{$index}}",u=r.name+"_{{$index}}"):(l=n+"."+r.name,c=r.id,u=r.name),a.subschema&&-1!==r.name.indexOf(".")){var p=n+".",g=r.name,v=a.subschemaroot,h=g.slice(v.length+1);l=p,a.index?(l+=v+"["+a.index+"]."+h,c="f_"+l.slice(p.length).replace(/(\.|\[|\]\.)/g,"-")):(l+=v,a.subkey?(c=l.slice(p.length).replace(/\./g,"-")+"-subkey"+a.subkeyno+"-"+h,l+="[$_arrayOffset_"+v.replace(/\./g,"_")+"_"+a.subkeyno+"]."+h):(l+="[$index]."+h,c=null,u=g.replace(/\./g,"-")))}var b=e.allInputsVars(t,r,a,l,c,u);return m+=e["handle"+(o?"Array":"")+"InputAndControlDiv"](e.inputChrome(s(b),r,a,b),f,r,a),m+=d.closeTag},findIdInSchemaAndFlagNeedX:function t(e,n){for(var r=!1,a=0;a<e.length;a++){var o=e[a];if(o.id===n){o.needsX=!0,r=!0;break}if(o.schema&&t(o.schema,n)){r=!0;break}}return r}}}t.$inject=["formMarkupHelper"],e.pluginHelper=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e,t,n,r,a,o,i){function s(e){var t=e.split("."),n=[t[0]];return t.length>1&&n.push(t.slice(1).join(".")),n}function l(e,t,n){var r=s(e);if(r.length>1)c(r[1],t[r[0]],n);else if(t[r[0]]){var a=t[r[0]];if(angular.isArray(a))for(var o=a.length-1;o>=0;o--){var i=typeof a[o];("undefined"===i||"object"===i&&0===Object.keys(a[o]).length)&&a.splice(o,1)}t[r[0]]=n(a)}}function c(e,t,n){if(void 0!==t)if(angular.isArray(t))for(var r=0;r<t.length;r++)l(e,t[r],n);else l(e,t,n)}function u(e,t,n,r){if(e.array){for(var a=[],o=!e.directive||w(e),i=0;i<t.length;i++){var s=t[i];s&&s.x&&(s=s.x);var l=$(s,r,n,e.name);o&&(l={x:l}),a.push(l)}return a}return e.select2?{id:t,text:$(t,r,n,e.name)}:$(t,r,n,e.name)}function d(e,t,n,r){if(e.array){for(var a=[],o=0;o<t.length;o++)a.push(x(t[o],n,r,e.name));return a}return x(t,n,r,e.name)}function f(e){return function(t,r){if(-1!==[200,400].indexOf(r)){var a="";for(var o in t.errors)if(t.errors.hasOwnProperty(o)){switch(a+="<li><b>"+n("titleCase")(o)+": </b> ",t.errors[o].type){case"enum":a+="You need to select from the list of values";break;default:a+=t.errors[o].message}a+="</li>"}a=a.length>0?t.message+"<br /><ul>"+a+"</ul>":t.message||"Error!  Sorry - No further details available.",e.showError(a)}else e.showError(r+" "+JSON.stringify(t))}}function m(e,t,n,r,a,o){var i=!t.id&&!t.newRecord;if(n.handleSchema("Main "+t.modelName,e,i?null:t.formSchema,t.listSchema,"",!0,t,a,o),i)a.allowLocationChange=!0;else{var s=!0;t.$watch("record",function(e,r){e!==r&&(s=n.updateDataDependentDisplay(e,r,s,t))},!0),t.id?"function"==typeof t.dataEventFunctions.onBeforeRead?t.dataEventFunctions.onBeforeRead(t.id,function(e){e?t.showError(e):r.readRecord(t,a,o)}):r.readRecord(t,a,o):(a.master={},t.phase="ready",t.cancel())}}var p=function(e,t){return(e.id||"f_"+e.name).replace(/\./g,"_")+t},g=function(e,t,n){for(var r=t.split("."),a=r.length-1,o=e,i=0;a>i&&(o=angular.isArray(o)?_.map(o,function(e){return e[r[i]]}):o[r[i]],angular.isArray(o)&&n&&n.scope&&"function"==typeof n.scope&&(o=o[n.scope().$index]),o);i++);return{lastObject:o,key:o?r[a]:void 0}},v=function(e,t,n,r){var a=g(e,t,n);if(a.lastObject&&a.key)if(angular.isArray(a.lastObject))for(var o=0;o<a.lastObject.length;o++)a.lastObject[o][a.key]=r[o];else a.lastObject[a.key]=r},h=function(e,t,n){var r,a=g(e,t,n);return a.lastObject&&a.key&&(r=angular.isArray(a.lastObject)?_.map(a.lastObject,function(e){return e[a.key]}):a.lastObject[a.key]),r},b=function(e,t,n){if(!t.topLevelFormName||t[t.topLevelFormName].$pristine){l(e.name,n.master,function(n){return u(e,n,t[p(e,"Options")],t[p(e,"_ids")])});var r=h(n.master,e.name);r&&v(t.record,e.name,void 0,r)}},y=function(e,t,n){for(var r=t.split("."),a=0;a<r.length;a++)void 0!==e&&(e=e[r[a]]);return e&&-1!==n.indexOf(r[a-1])&&(e=e.text||e),void 0===e&&(e=""),e},w=function(e){var t=!1;return"text"===e.type?t=!0:(e.needsX||"select"===e.type&&!e.ids&&!e.directive)&&(t=!0),t},k=function(e,t,n,r,a){a=a||t;for(var o=0;o<e.length;o++){var i=e[o],s=i.name.slice(n),l=h(t,s);if(i.schema){if(l)for(var c=0;c<l.length;c++)l[c]=k(i.schema,l[c],n+1+s.length,r,a)}else{var d=y(t,s,r.select2List);if(i.array&&w(i)&&d)for(var f=0;f<d.length;f++)d[f]={x:d[f]};var m=r[p(i,"_ids")];if(l&&m&&m.length>0){if(-1!==s.indexOf("."))throw new Error("Trying to directly assign to a nested field 332");t[s]=u(i,l,r[p(i,"Options")],m)}else if(i.select2&&!i.select2.fngAjax){if(l)if(i.array)for(var g=0;g<l.length;g++)r[i.select2.s2query].query({term:l[g].x.text||l[g].text||l[g].x||l[g],callback:function(e){if(e.results.length>0)if(l[g].x){if(-1!==s.indexOf("."))throw new Error("Trying to directly assign to a nested field 342");t[s][g].x=e.results[0]}else{if(-1!==s.indexOf("."))throw new Error("Trying to directly assign to a nested field 345");t[s][g]=e.results[0]}}});else r[i.select2.s2query].query({term:l,callback:function(e){if(e.results.length>0){if(-1!==s.indexOf("."))throw new Error("Trying to directly assign to a nested field 357");t[s]=e.results[0]}}})}else if(i.select2)void i.select2;else if(l&&r.conversions[i.name]&&r.conversions[i.name].fngajax){var b=i;r.conversions[b.name].fngajax(l,b,function(e,t){v(a,e.name,void 0,t),C(angular.element("#"+e.id),function(){v(r.record,e.name,void 0,t)})})}}}return t},x=function(e,t,n,r){var a=_.isObject(e)?e.x||e.text:e;if(a&&a.match(/^[0-9a-f]{24}$/))return a;var o=t.indexOf(a);if(-1===o)throw new Error("convertListValueToId: Invalid data - value "+a+" not found in "+t+" processing "+r);return n[o]},C=function(e,t){var n=e.inheritedData("$ngModelController"),r=n&&n.$pristine;r&&(n.$pristine=!1),t(),r&&(n.$pristine=!0)},$=function(e,t,n,r){var a=t.indexOf(e);if(-1===a)throw new Error("convertIdToListValue: Invalid data - id "+e+" not found in "+t+" processing "+r);return n[a]},S=function(e,t,n){n.master=k(t.formSchema,e,0,t),t.phase="ready",t.cancel()};return{readRecord:function(t,n,r){o.readRecord(t.modelName,t.id).success(function(r){r.success===!1&&e.path("/404"),n.allowLocationChange=!1,t.phase="reading","function"==typeof t.dataEventFunctions.onAfterRead&&t.dataEventFunctions.onAfterRead(r),S(r,t,n)}).error(r)},scrollTheList:function(t,n){var r=t.pagesLoaded;o.getPagedAndFilteredList(t.modelName,{aggregate:e.$$search.a,find:e.$$search.f,limit:t.pageSize,skip:r*t.pageSize,order:e.$$search.o}).success(function(e){angular.isArray(e)?r===t.pagesLoaded?(t.pagesLoaded++,t.recordList=t.recordList.concat(e)):console.log("DEBUG: infinite scroll component asked for a page twice"):t.showError(e,"Invalid query")}).error(n)},deleteRecord:function(t,n,r,i){o.deleteRecord(t,n).success(function(){"function"==typeof r.dataEventFunctions.onAfterDelete&&r.dataEventFunctions.onAfterDelete(i.master),a.redirectTo()("list",r,e)})},updateDocument:function(e,n,r,a,i){r.phase="updating",o.updateRecord(r.modelName,r.id,e).success(function(e){e.success!==!1?("function"==typeof r.dataEventFunctions.onAfterUpdate&&r.dataEventFunctions.onAfterUpdate(e,i.master),n.redirect?(n.allowChange&&(i.allowLocationChange=!0),t.location=n.redirect):(S(e,r,i),r.setPristine())):r.showError(e)}).error(a)},createNew:function(n,r,i,s){o.createRecord(i.modelName,n).success(function(n){n.success!==!1?("function"==typeof i.dataEventFunctions.onAfterCreate&&i.dataEventFunctions.onAfterCreate(n),r.redirect?t.location=r.redirect:a.redirectTo()("edit",i,e,n._id)):i.showError(n)}).error(s)},getListData:y,suffixCleanId:p,setData:v,setUpSelectOptions:function(e,t,n,r,a,s){var l=n[t.options]=[],c=n[t.ids]=[];i.getSchema(e).success(function(i){var u=[];a("Lookup "+e,i,null,u,"",!1,n,r,s);var d;"undefined"!=typeof t.filter&&t.filter?(console.log("filtering"),d=o.getPagedAndFilteredList(e,t.filter)):d=o.getAll(e),d.success(function(e){if(e){for(var a=0;a<e.length;a++){for(var o="",i=0;i<u.length;i++)o+=e[a][u[i].name]+" ";o=o.trim();var s=_.sortedIndex(l,o);l[s]===o&&(o=o+"    ("+e[a]._id+")",s=_.sortedIndex(l,o)),l.splice(s,0,o),c.splice(s,0,e[a]._id)}b(t,n,r)}})})},preservePristine:C,convertToMongoModel:function D(e,t,n,r){function a(e,t){var n;return t.select2&&t.select2.fngAjax||r.conversions[t.name]&&r.conversions[t.name].fngajax?e&&e.id&&(n=e.id):e&&(n=e.text||(e.x?e.x.text:e)),n}for(var o=0;o<e.length;o++){var i=e[o].name.slice(n),s=y(t,i,r.select2List);if(e[o].schema){if(s)for(var c=0;c<s.length;c++)s[c]=D(e[o].schema,s[c],n+1+i.length,r)}else{if(e[o].array&&w(e[o])&&s)for(var u=0;u<s.length;u++)s[u]=s[u].x;var f=r[p(e[o],"_ids")];if(f&&f.length>0)l(i,t,function(t){return d(e[o],t,r[p(e[o],"Options")],f)});else if(r.conversions[e[o].name]){var m,g=h(t,i,null);if(e[o].array){if(m=[],g)for(var b=0;b<g.length;b++)m[b]=a(g[b],e[o])}else m=a(g,e[o]);v(t,i,null,m)}}}return t},convertIdToListValue:$,handleError:f,decorateScope:function(n,o,i,s){n.cancel=function(){angular.copy(s.master,n.record),r(n.setPristine)};var l=f(n);n.$on("showErrorMessage",function(e,t){n.showError(t.body,t.title)}),n.showError=function(e,t){n.alertTitle=t?t:"Error!",n.errorMessage=e},n.dismissError=function(){delete n.errorMessage},n.save=function(e){e=e||{};var t=i.convertToMongoModel(n.formSchema,angular.copy(n.record),0,n);n.id?"function"==typeof n.dataEventFunctions.onBeforeUpdate?n.dataEventFunctions.onBeforeUpdate(t,s.master,function(r){r?n.showError(r):i.updateDocument(t,e,n,l,s)}):i.updateDocument(t,e,n,l,s):"function"==typeof n.dataEventFunctions.onBeforeCreate?n.dataEventFunctions.onBeforeCreate(t,function(r){r?n.showError(r):i.createNew(t,e,n,l)}):i.createNew(t,e,n,l)},n.newClick=function(){a.redirectTo()("new",n,e)},n.$on("$locationChangeStart",function(e,r){if(!s.allowLocationChange&&!n.isCancelDisabled()){e.preventDefault();var a=o.open({template:'<div class="modal-header">   <h3>Record modified</h3></div><div class="modal-body">   <p>Would you like to save your changes?</p></div><div class="modal-footer">    <button class="btn btn-primary dlg-yes" ng-click="yes()">Yes</button>    <button class="btn btn-warning dlg-no" ng-click="no()">No</button>    <button class="btn dlg-cancel" ng-click="cancel()">Cancel</button></div>',controller:"SaveChangesModalCtrl",backdrop:"static"});a.result.then(function(e){e?n.save({redirect:r,allowChange:!0}):(s.allowLocationChange=!0,t.location=r)})}}),n.deleteClick=function(){if(n.record._id){var e=o.open({template:'<div class="modal-header">   <h3>Delete Item</h3></div><div class="modal-body">   <p>Are you sure you want to delete this record?</p></div><div class="modal-footer">    <button class="btn btn-primary dlg-no" ng-click="cancel()">No</button>    <button class="btn btn-warning dlg-yes" ng-click="yes()">Yes</button></div>',controller:"SaveChangesModalCtrl",backdrop:"static"});e.result.then(function(e){e&&("function"==typeof n.dataEventFunctions.onBeforeDelete?n.dataEventFunctions.onBeforeDelete(s.master,function(e){e?n.showError(e):i.deleteRecord(n.modelName,n.id,n,s)}):i.deleteRecord(n.modelName,n.id,n,s))})}},n.isCancelDisabled=function(){return"function"==typeof n.disableFunctions.isCancelDisabled?n.disableFunctions.isCancelDisabled(n.record,s.master,n[n.topLevelFormName]):n[n.topLevelFormName]&&n[n.topLevelFormName].$pristine},n.isSaveDisabled=function(){return"function"==typeof n.disableFunctions.isSaveDisabled?n.disableFunctions.isSaveDisabled(n.record,s.master,n[n.topLevelFormName]):n[n.topLevelFormName]&&(n[n.topLevelFormName].$invalid||n[n.topLevelFormName].$pristine)},n.isDeleteDisabled=function(){return"function"==typeof n.disableFunctions.isDeleteDisabled?n.disableFunctions.isDeleteDisabled(n.record,s.master,n[n.topLevelFormName]):!n.id},n.isNewDisabled=function(){return"function"==typeof n.disableFunctions.isNewDisabled?n.disableFunctions.isNewDisabled(n.record,s.master,n[n.topLevelFormName]):!1},n.disabledText=function(e){var t="";return n.isSaveDisabled&&(t="This button is only enabled when the form is complete and valid.  Make sure all required inputs are filled in. "+e),t},n.getVal=function(e,t){return-1===e.indexOf("$index")||"undefined"!=typeof t?(e=e.replace(/\$index/g,t),n.$eval("record."+e)):void 0}},fillFormFromBackendCustomSchema:m,fillFormWithBackendSchema:function(e,t,n,r,a){i.getSchema(e.modelName,e.formName).success(function(o){m(o,e,t,n,r,a)}).error(a)}}}t.$inject=["$location","$window","$filter","$timeout","routingService","SubmissionsService","SchemasService"],e.recordHandler=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e){return{getSchema:function(t,n){return e.get("/api/schema/"+t+(n?"/"+n:""),{cache:!0})}}}t.$inject=["$http"],e.SchemasService=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){var t;!function(e){function t(e){var t=function(e){var t="",n=function(e,n){n&&""!==n&&("object"==typeof n&&(n=JSON.stringify(n)),""===t?t="?":t+="&",t+=e+"="+n)};return n("l",e.limit),n("f",e.find),n("a",e.aggregate),n("o",e.order),n("s",e.skip),t};return{getListAttributes:function(t,n){return e.get("/api/"+t+"/"+n+"/list")},readRecord:function(t,n){return e.get("/api/"+t+"/"+n)},getAll:function(t){return e.get("/api/"+t,{cache:!0})},getPagedAndFilteredList:function(n,r){return e.get("/api/"+n+t(r))},deleteRecord:function(t,n){return e["delete"]("/api/"+t+"/"+n)},updateRecord:function(t,n,r){return e.post("/api/"+t+"/"+n,r)},createRecord:function(t,n){return e.post("/api/"+t,n)}}}t.$inject=["$http"],e.SubmissionsService=t}(t=e.services||(e.services={}))}(fng||(fng={}));var fng;!function(e){e.formsAngular=angular.module("formsAngular",["ngSanitize","ui.bootstrap","infinite-scroll","monospaced.elastic"]).controller("BaseCtrl",e.controllers.BaseCtrl).controller("SaveChangesModalCtrl",e.controllers.SaveChangesModalCtrl).controller("ModelCtrl",e.controllers.ModelCtrl).controller("NavCtrl",e.controllers.NavCtrl).directive("modelControllerDropdown",e.directives.modelControllerDropdown).directive("errorDisplay",e.directives.errorDisplay).directive("fngLink",e.directives.fngLink).directive("formInput",e.directives.formInput).directive("formButtons",e.directives.formButtons).directive("globalSearch",e.directives.globalSearch).filter("camelCase",e.filters.camelCase).filter("titleCase",e.filters.titleCase).service("addAllService",e.services.addAllService).provider("cssFrameworkService",e.services.cssFrameworkService).provider("routingService",e.services.routingService).factory("$data",e.services.$data).factory("formGenerator",e.services.formGenerator).factory("formMarkupHelper",e.services.formMarkupHelper).factory("inputSizeHelper",e.services.inputSizeHelper).factory("pluginHelper",e.services.pluginHelper).factory("recordHandler",e.services.recordHandler).factory("SchemasService",e.services.SchemasService).factory("SubmissionsService",e.services.SubmissionsService)}(fng||(fng={}));var formsAngular=fng.formsAngular;angular.module("formsAngular").run(["$templateCache",function(e){e.put("form-button-bs2.html",'<div class="form-btn-grp">\n  <div class="btn-group pull-right">\n    <button id="saveButton" class="btn btn-mini btn-primary form-btn" ng-click="save()" ng-disabled="isSaveDisabled()"><i class="icon-ok"></i> Save</button>\n    <button id="cancelButton" class="btn btn-mini btn-warning form-btn" ng-click="cancel()" ng-disabled="isCancelDisabled()"><i class="icon-remove"></i> Cancel</button>\n  </div>\n  <div class="btn-group pull-right">\n    <button id="newButton" class="btn btn-mini btn-success form-btn" ng-click="newClick()" ng-disabled="isNewDisabled()"><i class="icon-plus"></i> New</button>\n    <button id="deleteButton" class="btn btn-mini btn-danger form-btn" ng-click="deleteClick()" ng-disabled="isDeleteDisabled()"><i class="icon-minus"></i> Delete</button>\n  </div>\n</div>\n'),e.put("form-button-bs3.html",'<div class="form-btn-grp">\n  <div class="btn-group pull-right">\n    <button id="saveButton" class="btn btn-primary form-btn btn-xs" ng-click="save()" ng-disabled="isSaveDisabled()"><i class="glyphicon glyphicon-ok"></i> Save</button>\n    <button id="cancelButton" class="btn btn-warning form-btn btn-xs" ng-click="cancel()" ng-disabled="isCancelDisabled()"><i class="glyphicon glyphicon-remove"></i> Cancel</button>\n  </div>\n  <div class="btn-group pull-right">\n    <button id="newButton" class="btn btn-success form-btn btn-xs" ng-click="newClick()" ng-disabled="isNewDisabled()"><i class="glyphicon glyphicon-plus"></i> New</button>\n    <button id="deleteButton" class="btn btn-danger form-btn btn-xs" ng-click="deleteClick()" ng-disabled="isDeleteDisabled()"><i class="glyphicon glyphicon-minus"></i> Delete</button>\n  </div>\n</div>\n'),e.put("search-bs2.html",'<form class="navbar-search pull-right">\n    <div id="search-cg" class="control-group" ng-class="errorClass">\n        <input type="text" id="searchinput" ng-model="searchTarget" class="search-query" placeholder="{{searchPlaceholder}}" ng-keyup="handleKey($event)">\n    </div>\n</form>\n<div class="results-container" ng-show="results.length >= 1">\n    <div class="search-results">\n        <div ng-repeat="result in results">\n            <span ng-class="resultClass($index)" ng-click="selectResult($index)">{{result.resourceText}} {{result.text}}</span>\n        </div>\n        <div ng-show="moreCount > 0">(plus more - continue typing to narrow down search...)\n        </div>\n    </div>\n</div>\n'),e.put("search-bs3.html",'<form class="pull-right navbar-form">\n    <div id="search-cg" class="form-group" ng-class="errorClass">\n        <input type="text" id="searchinput" ng-model="searchTarget" class="search-query form-control" placeholder="{{searchPlaceholder}}" ng-keyup="handleKey($event)">\n    </div>\n</form>\n<div class="results-container" ng-show="results.length >= 1">\n    <div class="search-results">\n        <div ng-repeat="result in results">\n            <span ng-class="resultClass($index)" ng-click="selectResult($index)">{{result.resourceText}} {{result.text}}</span>\n        </div>\n        <div ng-show="moreCount > 0">(plus more - continue typing to narrow down search...)\n        </div>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=forms-angular.min.js.map